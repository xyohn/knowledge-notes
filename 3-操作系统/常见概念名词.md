# 常见概念名词

* Copy On Write

  `COW` 是一种建立在虚拟内存重映射技术之上的技术，因此它需要 `MMU` 的硬件支持，`MMU` 会记录当前哪些内存页被标记成只读，当有进程尝试往这些内存页中写数据的时候，`MMU` 就会抛一个异常给操作系统内核，内核处理该异常时为该进程分配一份物理内存并复制数据到此内存地址，重新向 `MMU` 发出执行该进程的写操作

  ![图片](assets/640.jpeg)

* 内存碎片

  操作系统负责为每个进程分配物理内存，而操作系统中的虚拟内存管理器保管着由内存分配器分配的实际内存映射 如果我们的应用程序需求`1GB`大小的内存，内存分配器将首先尝试找到一个**连续的内存段**来存储数据；如果找不到连续的段，则分配器必须将进程的**数据分成多个段**，从而导致内存开销增加。

  ![图片](assets/640-20230428100001226.png)

* SWAP

  当某进程向 OS 请求内存发现不足时，OS 会把内存中暂时不用的数据交换出去，放在`SWAP分区`中，这个过程称为`SWAP OUT`。 当某进程又需要这些数据且 OS 发现还有空闲物理内存时，又会把`SWAP分区`中的数据交换回物理内存中，这个过程称为`SWAP IN`

  ![图片](assets/640-20230428100551449.png)

  





## 参考

* [Redis延迟问题全面排障指南](https://mp.weixin.qq.com/s/mIc6a9mfEGdaNDD3MmfFsg)