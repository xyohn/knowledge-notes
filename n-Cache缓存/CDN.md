# CDN
* 作用
> 将静态资源分发到各地，使用户访问的物理链路距离变短，提升用户访问资源的速度，也减轻源站的流量压力

* 原理-就近访问  
>用户选择最近的节点访问。缓存的命中率也需要一定的保证，尽量减少访问资源存储源站的请求数量

* 实现核心  
  * DNS解析得到CNAME
  * 依托GSLB（Global Server Load Balance，全局负载均衡）获得就近节点
## 思考 
1. CDN核心是减少访问的物理距离，且提高传输的带宽
以前给一个做自媒体的朋友建了一个小站点，带宽只有1M，但是自媒体需要发很多很多图片，访问速度实在是太慢了。
上了CDN以后，源站的流量大大减少，大部分流量都由CDN支撑了，用户访问的体验也更好了，站点的压力也能小很多。
这里也让我想到了有些下载工具的离线下载和会员高速下载，思路应该是差不多的，其实就是用户不仅从源站下了，还从下载工具的服务器上做了下载。下载工具自己的服务器带宽可能会比源站的带宽好很多。
2. CDN也算是对源站的一种防护
因为对于使用方来说不知道源站的ip地址了，也不好做端口扫描等操作。
但是呢，对于应用层面接口的攻击，基本由CDN回源到源站了，源站很容易误判成是CDN进行的攻击，如果需要IP封禁等就得从CDN层面做控制。
同时，做溯源的话其实也会比没有CDN困难一些些，这个就见仁见智了。  
目前看到很多云厂商把CDN和安全产品整合一起了(SecCDN) 我觉得是个不错的想法，
3. CDN的成本主要在于流量
访问的越多，钱花的越多，所以要考虑一些防盗链啥的，这也可能是为啥很多平台都把以前免费图床取消的原因之一..

## 参考资料

* 极客时间-高并发系统设计 40 问 